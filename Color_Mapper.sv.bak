module  color_mapper ( input myBall,                                             
                       input [9:0] DrawX, DrawY,       
							  input [23:0] ram_OUT,
							  input [23:0] fire_OUT, 
							  input [23:0] fireTwo_OUT, 
							  input my_Sprite,
							  input my_SpriteFire, 
							  input my_SpriteFireTWO,
							  input H_STATE,
							  input E_STATE,
							  input logic [0:4799] ones,
							  input logic [0:4799] tens,
							  input logic [299:0] C_pic,
                       output logic [7:0] VGA_R, VGA_G, VGA_B 
                     );
    

    logic [9:0] X_resize;
	 logic [9:0] Y_resize;
	 logic [7:0] R,G,B;
	 logic [9:0] A_col;
	 
	 logic [12:0] numX_resize;
	 logic [12:0] numY_resize;
	 
	 logic [13:0] A_num;
	 
	 assign X_resize = DrawX >> 3'd5; 
	 assign Y_resize = DrawY >> 3'd5;
	 
	 assign numX_resize = DrawX >> 3'd3;
	 assign numY_resize = DrawY >> 3'd3;
	 
	 assign A_num = (numY_resize * 10'd80) + numX_resize;
	 
	 assign A_col = (Y_resize * 5'd20) + X_resize;
	 
    assign VGA_R = R;
    assign VGA_G = G;
    assign VGA_B = B;
    
    always_comb
    begin

		  if ((my_SpriteFire == 1'b1) && (fire_OUT[23:0] != 24'hffffff) && (fire_OUT[23:0] != 24'h0000) && !(H_STATE || E_STATE))
		  begin
				R   = fire_OUT[23:16];
				G   = fire_OUT[15:8];
				B   = fire_OUT[7:0];
		  end
		  
		  else if ((my_SpriteFireTWO == 1'b1) && (fireTwo_OUT[23:0] != 24'hffffff) && (fireTwo_OUT[23:0] != 24'h0000) && !(H_STATE || E_STATE))
		  begin
				R   = fireTwo_OUT[23:16];
				G   = fireTwo_OUT[15:8];
				B   = fireTwo_OUT[7:0];
		  end
		  
		  else if ((my_Sprite == 1'b1) && (ram_OUT[23:0] != 24'h0000) && !(H_STATE || E_STATE))
		  begin
				R   = ram_OUT[23:16];
				G   = ram_OUT[15:8];
				B   = ram_OUT[7:0];
		  end
		  
		  

		  
		  else if ((ones[A_num] == 1'b1) && !(H_STATE || E_STATE))
		  begin
		  			R = 8'h3a;
					G = 8'h46;
					B = 8'h64;
		  end
		  
		  
		  else if (C_pic[A_col])
		  begin
				if (H_STATE || E_STATE) 
					begin
					R = 8'h05;
					G = 8'h0f;
					B = 8'hfe - {1'b0, DrawX[9:3]};
					end
				else 
					begin
					R = 8'h81;
					G = 8'h78;
					B = 8'h71;
					end
		  end
		  
		  
		  else if ((DrawY < 10'd64) && !(H_STATE || E_STATE) )
				begin
					R = 8'h00;
					G = 8'hff;
					B = 8'h00;
				end
				
		  else if ((DrawY > 10'd416) && !(H_STATE || E_STATE))
				begin
					R = 8'hff;
					G = 8'hf0;
					B = 8'h00;
				end
		  
        else 
        begin
				  R = 8'hff; 
              G = 8'hf0 - {1'b0, DrawY[9:3]};
              B = 8'h00;
        end
    end 
    
endmodule
